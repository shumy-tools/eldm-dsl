grammar net.eldm.EldmDsl with org.eclipse.xtext.xbase.Xbase

generate eldmDsl "http://www.eldm.net/EldmDsl"

Domainmodel:
  importSection=XImportSection?
  elements+=AbstractElement*;

AbstractElement:
  PackageDeclaration | Entity;

PackageDeclaration:
  'package' name=QualifiedName '{'
      elements+=AbstractElement*
  '}';

Entity:
  'entity' name=ValidID ('extends' superType=JvmTypeReference)? '{'
      features+=Feature*
  '}';

Feature:
  Property | Operation;

Property:
  name=ValidID ':' type=JvmTypeReference;

Operation:
  'op' name=ValidID '('(params+=FullJvmFormalParameter (',' params+=FullJvmFormalParameter)*)?')' ':' type=JvmTypeReference 
    body=XBlockExpression;
