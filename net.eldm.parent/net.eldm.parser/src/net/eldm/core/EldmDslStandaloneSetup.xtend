/*
 * generated by Xtext 2.15.0
 */
package net.eldm.core

import com.google.inject.AbstractModule
import com.google.inject.Guice
import com.google.inject.Injector
import net.eldm.util.IdentifierResolver
import net.eldm.util.PatternParser
import net.eldm.util.TypeResolver
import net.eldm.util.TypeValidator

/**
 * Initialization support for running Xtext languages without Equinox extension registry.
 */
class EldmDslStandaloneSetup extends EldmDslStandaloneSetupGenerated {
  val module = new AbstractModule() {
    override protected configure() {
      bind(PatternParser).to(PatternParser)
      bind(TypeValidator).to(TypeValidator)
      
      bind(TypeResolver).to(TypeResolver)
      bind(IdentifierResolver).to(IdentifierResolver)
    }
  }
  
  override Injector createInjector() {
    val injector = Guice.createInjector(new EldmDslRuntimeModule());
    return injector.createChildInjector(module)
  }
  
  def static void doSetup() {
    new EldmDslStandaloneSetup().createInjectorAndDoEMFRegistration()
  }
}
